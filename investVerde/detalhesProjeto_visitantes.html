<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Detalhes do Projeto</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link href="css/estilo.css" rel="stylesheet"/>
</head>
<body class="bg-light">
  <div class="container py-4  col-lg-8 col-md-10 col-sm-12 box" >
    <div class="text-center mb-4">
      <img src="https://raw.githubusercontent.com/Edmils0nJr/DEVELOPMENTS/main/css/logo.png" alt="Logo" style="height: 50px;" />
    </div>

    <div id="conteudo"></div>

    <div class="text-center mt-4">
      <a href="catalogo_visitantes.html" class="btn btn-success">Voltar ao Catálogo</a>
    </div>
  </div>

  <script>
    async function carregarDetalhes() {
      const params = new URLSearchParams(window.location.search);
      const id = params.get("id") || 5;

      try {
        const res = await fetch("https://9tn2xd-3001.csb.app/api/projetos/" + id);
        const projeto = await res.json();

        document.getElementById("conteudo").innerHTML = `
          <div class="text-center mb-4">
            <h5 class="text-success">${projeto.nome_projeto}</h5>
            <p class="text-muted">${projeto.categoria}</p>
          </div>

          <div class="card mb-3">
            <div class="card-body">
              <h6 class="card-title">Sobre o Projeto</h6>
              <p class="card-text">${projeto.resumo_descricao}</p>
            </div>
          </div>

          <div class="card mb-3">
            <div class="card-body">
              <h6 class="card-title">Financiamento</h6>
              <p class="card-text">Valor do Projeto: <strong>${projeto.valor}</strong></p>
              <p class="card-text text-muted">Meta: R$250.000</p>
            </div>
          </div>

          <div class="card mb-3">
            <div class="card-body">
              <h6 class="card-title">Responsável</h6>
              <p class="card-text mb-1"><strong>${projeto.nome}</strong></p>
              <p class="card-text text-muted">${projeto.email}<br>${projeto.telefone}</p>
            </div>
          </div>

          <div class="card mb-3">
            <div class="card-body">
              <h6 class="card-title">Documentação e Relatórios</h6>
              <ul>
                <li>Plano de Execução</li>
                <li>Orçamento Planejado</li>
                <li>Fotos da Área</li>
              </ul>
            </div>
          </div>
        `;
      } catch (err) {
        document.getElementById("conteudo").innerHTML = "<p class='text-danger'>Erro ao carregar detalhes do projeto.</p>";
      }
    }

    carregarDetalhes();
  </script>
</body>
</html>
